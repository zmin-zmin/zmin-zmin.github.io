# 分享 JS 安全接口域名

## 目录

1. 绑定 js 安全接口域名
2. 引入 jssdk
3. 初始化 sdk
4. 传入分享参数
5. 在 App 端如何开启调试

## **一、绑定 js 安全接口域名**
::: danger
只可分享当前绑定的 js 安全接口域名下的任意网页链接，但需与绑定域名一致。
:::

访问[开发者后台](https://open.nb-connect.cn/member/app/index)，我的应用 → 查看 → 资料底部，开发信息下设置，默认为空，需自行设置。

![应用详情-开发信息](%E5%88%86%E4%BA%AB%20JS%20%E5%AE%89%E5%85%A8%E6%8E%A5%E5%8F%A3%E5%9F%9F%E5%90%8D%209c621258c5ae41f6a64dfb67f593131d/Untitled.png)

授权回调链接
![授权回调链接](%E5%88%86%E4%BA%AB%20JS%20%E5%AE%89%E5%85%A8%E6%8E%A5%E5%8F%A3%E5%9F%9F%E5%90%8D%209c621258c5ae41f6a64dfb67f593131d/b73aaf72-b4e3-422f-9666-0487e2d8ec7a.png)

JS 安全域名
![JS 安全域名](%E5%88%86%E4%BA%AB%20JS%20%E5%AE%89%E5%85%A8%E6%8E%A5%E5%8F%A3%E5%9F%9F%E5%90%8D%209c621258c5ae41f6a64dfb67f593131d/Untitled%201.png)



## **二、引入 JSSDK**

在需要调用 JS 接口的页面引入如下JS文件

```html
https://open.nb-connect.cn/connect.js
```


## **三、初始化 JSSDK**

```jsx
// 初始化 ShareSDK，传入应用程序 ID 和密钥 可添加debug，
// 默认为false,access_token参见获取客户端token
Connect.init("appId","access_token",true);
```

### 获取 appId & access_token

#### appId

访问[开发者后台](https://open.nb-connect.cn/member/app/index)，我的应用，点击目标应用查看，即可看到 appId

![应用详情](%E5%88%86%E4%BA%AB%20JS%20%E5%AE%89%E5%85%A8%E6%8E%A5%E5%8F%A3%E5%9F%9F%E5%90%8D%209c621258c5ae41f6a64dfb67f593131d/Untitled%202.png)

![appId](%E5%88%86%E4%BA%AB%20JS%20%E5%AE%89%E5%85%A8%E6%8E%A5%E5%8F%A3%E5%9F%9F%E5%90%8D%209c621258c5ae41f6a64dfb67f593131d/Untitled%203.png)

### access_token

详见 [获取客户端 token](https://open.nb-connect.cn/knowbase/doc/gettoken.html)


## **四、传入分享参数**

```jsx
/* 分享参数 */
var shareData = {
'Share_link':'',//分享页面链接
'share_image':'',//分享主图
'share_title':'',//分享标题
'share_desc':''//分享描述
};

// 调用SDK 分享
Connect.authorize(function(success) {
	if (success) {
		Connect.share(shareData);
	} else {
		console.log("授权失败");
	}
});
```

## **五、在 App 端如何调试**

引入 vConsole

```html
<!--BootCDN vConsole-->
<script src="https://cdn.bootcdn.net/ajax/libs/vConsole/3.15.1/vconsole.min.js"></script>
```

完整示例代码

```jsx
var vConsole = new window.VConsole();//用于app调试时使用,开启后网页右下角会出现vconsole按钮，点击会出现控制台窗口，正式上线时删除！
var shareData = {
'Share_link':'',//分享页面链接
'share_image':'',//分享主图
'share_title':'Connect',//分享标题
'share_desc':''//分享描述
};

// 初始化 ShareSDK，传入应用程序 ID 和密钥 可添加debug，默认为false
Connect.init("appId","access_toen",true);

// 吊起分享
Connect.authorize(function(success) {
    if (success) {
      Connect.share(shareData);
    } else {
        console.log("授权失败");
    }
});
```
